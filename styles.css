:root{
  --bg:#fff;
  --panel:#f6f7fb;
  --card:#fff;
  --bd:#e6e8ef;
  --txt:#0f172a;
  --mut:#64748b;
  --pri:#4f46e5;
  --pri2:#eef2ff;
  --danger:#b91c1c;
  --ok:#15803d;
  --warn:#92400e;
  --shadow: 0 12px 28px rgba(15,23,42,.10);
  --r:16px;
  --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
}

*{box-sizing:border-box}
body{margin:0;font-family:var(--font);background:var(--bg);color:var(--txt)}
.wrap{max-width:1180px;margin:0 auto;padding:16px 14px 44px}

.header{display:flex;justify-content:space-between;gap:14px;flex-wrap:wrap;align-items:flex-start}
h1{margin:0;font-weight:650}
.sub{color:var(--mut);font-size:.92rem;margin-top:6px}

.header-actions{display:flex;gap:10px;flex-wrap:wrap;align-items:center}

.panel{
  background:var(--panel);
  border-radius:var(--r);
  box-shadow:var(--shadow);
  padding:14px;
  margin:12px 0;
}

.btn{
  border:1px solid var(--bd);
  border-radius:999px;
  padding:8px 14px;
  cursor:pointer;
  background:#fff;
  font-weight:650;
  transition:.15s;
  user-select:none;
}
.btn:hover{transform:translateY(-1px)}
.btn.primary{background:var(--pri);color:#fff;border-color:transparent}
.btn.secondary{background:var(--pri2);color:var(--pri);border-color:transparent}
.btn.ghost{background:transparent;color:var(--mut)}
.btn.danger{background:#fee2e2;color:var(--danger);border-color:#fecaca}

.hidden{display:none !important;}

.tabs{display:flex;gap:10px;flex-wrap:wrap}
.tab{
  border:1px solid var(--bd);
  background:#fff;
  color:var(--mut);
  padding:8px 12px;
  border-radius:999px;
  cursor:pointer;
  font-weight:650;
}
.tab.active{background:var(--pri2);color:var(--pri);border-color:transparent}

.filters{
  margin-top:12px;
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  align-items:center;
}
.filters input,.filters select{
  border:1px solid var(--bd);
  border-radius:12px;
  padding:9px 10px;
  background:#fff;
  min-width:190px;
  font-size:.92rem;
}
.count{margin-left:auto;color:var(--mut);font-weight:650}

.divider{height:1px;background:var(--bd);margin:12px 0}

/* HIGHLIGHTS */
.highlights-grid{
  display:grid;
  grid-template-columns:repeat(3,minmax(0,1fr));
  gap:12px;
}
@media(max-width:980px){.highlights-grid{grid-template-columns:1fr}}

.box{
  background:#fff;
  border:1px solid var(--bd);
  border-radius:14px;
  overflow:hidden;
}
.box-head{
  padding:10px 12px;
  background:#fafafa;
  border-bottom:1px solid var(--bd);
  font-weight:600; /* menos negrito */
}
.box-list{max-height:220px;overflow:auto}
.box-item{
  padding:8px 12px;
  border-bottom:1px solid #f1f5f9;
  cursor:pointer;
  display:flex;
  gap:10px;
  align-items:center;
}
.box-item:hover{background:#f8fafc}
.box-item:last-child{border-bottom:0}
.box-item .name{
  flex:1;
  min-width:0;
  font-weight:550;
  font-size:.86rem;
  display:-webkit-box;
  -webkit-line-clamp:2;
  -webkit-box-orient:vertical;
  overflow:hidden;
  word-break:break-word;
}
.box-item .note{color:var(--mut);font-weight:600;font-size:.84rem;white-space:nowrap}
.box-item .stars{white-space:nowrap;font-size:.84rem}

/* FRANCHISE */
.franchise-title{font-weight:650}
.franchise-two{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:10px}
@media(max-width:980px){.franchise-two{grid-template-columns:1fr}}
.franchise-sub{color:var(--mut);font-weight:700;margin:6px 0}
.franchise-grid{
  display:grid;
  grid-template-columns:repeat(6,minmax(0,1fr));
  gap:10px;
}
@media(max-width:980px){.franchise-grid{grid-template-columns:repeat(4,minmax(0,1fr))}}
@media(max-width:600px){.franchise-grid{grid-template-columns:repeat(3,minmax(0,1fr))}}

.franchise-card{
  background:#fff;
  border:1px solid var(--bd);
  border-radius:14px;
  padding:8px;
  cursor:pointer;
  text-align:center;
  box-shadow:0 10px 20px rgba(15,23,42,.06);
}
.franchise-card:hover{outline:2px solid rgba(79,70,229,.12)}
.franchise-card img{
  width:100%;
  height:120px;
  object-fit:cover;
  border-radius:10px;
  display:block;
  background:#e5e7eb;
}
.franchise-card .fname{
  margin-top:8px;
  font-size:.78rem;
  font-weight:650;
  color:#111827;
  line-height:1.1;
  display:-webkit-box;
  -webkit-line-clamp:2;
  -webkit-box-orient:vertical;
  overflow:hidden;
}

/* GRID */
.grid{
  display:grid;
  grid-template-columns:repeat(3,minmax(0,1fr));
  gap:12px;
}
@media(max-width:980px){.grid{grid-template-columns:repeat(2,minmax(0,1fr))}}
@media(max-width:680px){.grid{grid-template-columns:1fr}}

.card{
  background:var(--card);
  border:1px solid var(--bd);
  border-radius:14px;
  box-shadow:0 10px 22px rgba(15,23,42,.06);
  padding:10px;
  cursor:pointer;
  display:flex;
  gap:10px;
  min-height:132px;
}
.card:hover{outline:2px solid rgba(79,70,229,.12)}
.poster{
  width:86px;
  flex:0 0 86px;
  height:124px;
  border-radius:12px;
  overflow:hidden;
  background:#e5e7eb;
}
.poster img{width:100%;height:100%;object-fit:cover;display:block}

.content{min-width:0;flex:1;display:flex;flex-direction:column;gap:4px}
.topline{display:flex;gap:8px;align-items:flex-start}
.title{
  font-weight:650;
  line-height:1.15;
  display:-webkit-box;
  -webkit-line-clamp:2;
  -webkit-box-orient:vertical;
  overflow:hidden;
  word-break:break-word;
  flex:1;
  min-width:0;
}
.badge{font-size:.7rem;background:var(--pri2);color:var(--pri);padding:2px 8px;border-radius:999px;font-weight:700;flex:0 0 auto}
.meta{color:var(--mut);font-size:.82rem;display:flex;flex-wrap:wrap;gap:6px}
.footer{display:flex;justify-content:space-between;gap:10px;align-items:center;margin-top:auto}
.status{font-size:.74rem;font-weight:700;border-radius:999px;padding:3px 9px}
.st-assistindo{background:var(--pri2);color:var(--pri)}
.st-assistidos{background:#dcfce7;color:var(--ok)}
.st-nao{background:#fef3c7;color:var(--warn)}
.starsInline{white-space:nowrap;font-size:.86rem}
.starsInline .mut{color:var(--mut);font-weight:700;margin-right:6px}

/* MANAGE */
.manage-head{display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap;align-items:flex-start}
.manage-title{font-weight:750;font-size:1.05rem}
.manage-actions{display:flex;gap:10px;flex-wrap:wrap;align-items:center}

.filebtn{position:relative;overflow:hidden}
.filebtn input{position:absolute;left:-9999px}

.tmdb{background:#fff;border:1px solid var(--bd);border-radius:14px;padding:12px;box-shadow:0 10px 20px rgba(15,23,42,.06)}
.tmdb-head{display:flex;justify-content:space-between;gap:12px;align-items:flex-end;flex-wrap:wrap}
.tmdb-title{font-weight:750}
.tmdb-row{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
.tmdb-row input{flex:1;min-width:240px}
.tmdb-results{margin-top:10px;border:1px solid var(--bd);border-radius:14px;overflow:auto;max-height:260px}
.tmdb-item{display:flex;gap:10px;align-items:center;padding:10px;border-bottom:1px solid #f1f5f9;cursor:pointer;background:#fff}
.tmdb-item:hover{background:#f8fafc}
.tmdb-item:last-child{border-bottom:0}
.tmdb-thumb{width:42px;height:60px;border-radius:10px;overflow:hidden;background:#e5e7eb}
.tmdb-thumb img{width:100%;height:100%;object-fit:cover}
.tmdb-name{font-weight:700;font-size:.9rem}
.tmdb-meta{color:var(--mut);font-size:.8rem}

.manage-form{display:grid;grid-template-columns:220px 1fr;gap:12px}
@media(max-width:900px){.manage-form{grid-template-columns:1fr}}
.posterBig{width:220px;height:320px;border-radius:16px;overflow:hidden;background:#e5e7eb}
@media(max-width:900px){.posterBig{width:100%;height:260px}}
.posterBig img{width:100%;height:100%;object-fit:cover;display:block}

.form .col2{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px 12px}
@media(max-width:900px){.form .col2{grid-template-columns:1fr}}
.field.full{grid-column:1/-1}
.field label{font-size:.78rem;color:var(--mut);font-weight:800}
.field input,.field textarea,.field select{width:100%;border:1px solid var(--bd);border-radius:12px;padding:9px 10px}
.hint{color:var(--mut);font-size:.76rem;margin-top:4px}
.ratingRow{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.starsBox{font-size:1.35rem;border:1px dashed var(--bd);border-radius:12px;padding:5px 10px;cursor:pointer;user-select:none}
.advanced{border:1px solid var(--bd);border-radius:14px;background:#fff;padding:8px 10px;grid-column:1/-1}
.advanced summary{cursor:pointer;font-weight:800;color:#111827}
.advGrid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px 12px;margin-top:10px}
@media(max-width:900px){.advGrid{grid-template-columns:1fr}}
.mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace}

.formActions{grid-column:1/-1;display:flex;gap:10px;flex-wrap:wrap;justify-content:flex-end}

/* MODAL */
.backdrop{
  position:fixed;inset:0;background:rgba(2,6,23,.55);
  display:flex;align-items:center;justify-content:center;padding:16px;z-index:50;
}
.modal{
  width:min(1100px,100%);
  max-height:92vh;
  background:#fff;
  border-radius:20px;
  overflow:hidden;
  display:flex;
  flex-direction:column;
  box-shadow:0 24px 70px rgba(0,0,0,.35);
}
.modalHead{
  padding:12px 14px;
  display:flex;justify-content:space-between;gap:12px;align-items:flex-start;
  border-bottom:1px solid var(--bd);
  background:linear-gradient(180deg,#fff,#fafafa);
}
.modalTitle{font-weight:800;font-size:1.05rem}
.modalSub{color:var(--mut);font-size:.85rem;margin-top:4px}
.modalBody{padding:14px;overflow:auto}
.modalFoot{
  padding:12px 14px;
  border-top:1px solid var(--bd);
  display:flex;justify-content:space-between;gap:10px;align-items:center;flex-wrap:wrap;
}
.modalFoot .right{display:flex;gap:10px;flex-wrap:wrap}

.modalMain{display:grid;grid-template-columns:240px 1fr;gap:12px}
@media(max-width:900px){.modalMain{grid-template-columns:1fr}}
.modalPoster{width:240px;height:340px;border-radius:16px;overflow:hidden;background:#e5e7eb}
@media(max-width:900px){.modalPoster{width:100%;height:260px}}
.modalPoster img{width:100%;height:100%;object-fit:cover;display:block}

.badges{display:flex;gap:8px;flex-wrap:wrap}
.pill{background:var(--panel);border:1px solid var(--bd);border-radius:999px;padding:6px 10px;font-size:.82rem;color:var(--mut);font-weight:800}
.section{margin-top:10px}
.sectionTitle{font-weight:850}
.text{color:#111827;line-height:1.5;white-space:pre-wrap}
.links a{display:block;margin-top:4px;color:var(--pri);text-decoration:none;font-weight:800}
.links a:hover{text-decoration:underline}

.modalStars{margin-top:10px;display:flex;gap:10px;align-items:center}
.modalStars .note{font-weight:900;color:#111827}
.starsSmall{font-size:.95rem}

/* EPISÃ“DIOS */
.epsHead{display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap;align-items:flex-end}
.epsActions{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
.epsForm{margin-top:10px;background:#fff;border:1px solid var(--bd);border-radius:14px;padding:10px;box-shadow:0 10px 20px rgba(15,23,42,.06)}
.epsFormTop{display:flex;justify-content:space-between;gap:10px;align-items:center}
.epGrid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px 12px;margin-top:10px}
@media(max-width:900px){.epGrid{grid-template-columns:1fr}}

.epBlock{
  background:#fff;border:1px solid var(--bd);border-radius:14px;box-shadow:0 10px 20px rgba(15,23,42,.06);
  margin-top:10px;
}
.epBlock summary{
  cursor:pointer;
  padding:10px 12px;
  font-weight:900;
  list-style:none;
}
.epBlock summary::-webkit-details-marker{display:none}
.epInner{padding:10px 12px;border-top:1px solid var(--bd)}
.epGroupTitle{font-weight:900;margin:10px 0 6px}
.epTable{width:100%;border-collapse:collapse;font-size:.88rem}
.epTable th,.epTable td{border-bottom:1px solid var(--bd);padding:8px;vertical-align:top}
.epTable th{background:#f3f4f6;font-weight:900}
.epActions{display:flex;gap:8px;flex-wrap:wrap}

/* TOAST */
.toast{
  position:fixed;right:16px;bottom:16px;
  background:#111827;color:#fff;
  padding:10px 14px;border-radius:999px;
  box-shadow:0 10px 30px rgba(0,0,0,.25);
  z-index:60;
}
